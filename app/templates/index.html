<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>커뮤니티 모음</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <header class="header">
            <h1><i class="fas fa-fire"></i> 커뮤니티 핫이슈</h1>
            <p class="subtitle">매일 업데이트 되는 커뮤니티 모음 사이트</p>
        </header>

        <!-- 필터 및 검색 -->
        <div class="controls">
            <div class="filters">
                <div class="filter-group">
                    <label>사이트:</label>
                    <select id="siteFilter">
                        <option value="all">전체</option>
                        {% for key, value in sites.items() %}
                        {% if value.enabled %}
                        <option value="{{ key }}">{{ value.name }}</option>
                        {% endif %}
                        {% endfor %}
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>정렬:</label>
                    <select id="sortFilter">
                        <option value="latest">최신순</option>
                        <option value="views">조회수순</option>
                        <option value="likes">추천순</option>
                    </select>
                </div>
            </div>
            
            <div class="search-group">
                <input type="text" id="searchInput" placeholder="제목 검색...">
                <button id="searchBtn"><i class="fas fa-search"></i></button>
            </div>
            
            <button id="refreshBtn" class="refresh-btn">
                <i class="fas fa-sync-alt"></i> 새로고침
            </button>
        </div>

        <!-- 통계 정보 -->
        <div class="stats" id="statsSection">
            <div class="stat-item">
                <i class="fas fa-list"></i>
                <span>총 게시물: <strong id="totalPosts">0</strong></span>
            </div>
            <div class="stat-item">
                <i class="fas fa-users"></i>
                <span>총 방문자: <strong id="totalVisitors">0</strong></span>
            </div>
            <div class="stat-item">
                <i class="fas fa-user-check"></i>
                <span>오늘 방문자: <strong id="todayVisitors">0</strong></span>
            </div>
            <div class="stat-item">
                <i class="fas fa-clock"></i>
                <span>마지막 업데이트: <strong id="lastUpdate">-</strong></span>
            </div>
        </div>

        <!-- 로딩 -->
        <div id="loading" class="loading hidden">
            <i class="fas fa-spinner fa-spin"></i> 로딩 중...
        </div>

        <!-- 게시물 목록 -->
        <div class="posts-container" id="postsContainer">
            <!-- 게시물들이 여기에 동적으로 추가됩니다 -->
        </div>

        <!-- 더 보기 버튼 -->
        <div class="load-more-container">
            <button id="loadMoreBtn" class="load-more-btn hidden">더 보기</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>